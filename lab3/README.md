前置知识
###一.
什么是虚拟内存?简单来说是指程序员或cpu看到的内存。但有几点注意
1. 虚拟内存不一定有实际的物理单元对应，实际的物理内存单元可能不存在
2. 如果虚拟内存单元对应有实际的物理内存单元，那二者的地址一般是不相等的。
3. 通过操作系统实现的某种内存映射可建立虚拟内存与物理内存的对应关系，使得程序员或cpu访问的虚拟内存地址会自动转换成一个物理内存地址。
那么这个虚拟的作用或意义在哪里体现呢? 在操作系统中,虚拟内存其实包含多个虚拟层次，在不同的层次体现不同的作用.首先，在有了分页机制后，程序员或cpu看到地址已经不是实际的物理地址了，这已经有一层虚拟化，我们可简称为内存地址虚拟化。有了内存地址虚拟化，我们就可以通过设置页表项来限定软件运行时的访问空间，确保软件运行不越界，完成内存访问保护的功能。

通过内存地址虚拟化，可以使得软件在没有访问某虚拟内存时，不分配具体的物理内存，只有在实际访问某虚拟内存地址时，操作系统再动态地分配物理内存，建立虚拟内存到物理内存的页映射关系，这种技术称为按需分页. 把不经常访问的数据所占的内存空间临时写道硬盘上，这样可以腾出更多的空闲内存空间给经常访问的数据，当cpu访问到不经常访问的数据时，再把这些数据从硬盘读入内存中，这种技术称为页换入换出。
